<template>
  <div>
    <header
        class="site-header ha-header-1 absolute-header sticky-init fixed-header d-lg-block d-none"
        :class="{'sticky-header': isFixed}"
    >
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-lg-5">
            <div class="main-navigation">
              <ul class="main-menu @@menuColor">
                <li class="menu-item has-children">
                  <NuxtLink to="/">{{ $t('header.home') }}</NuxtLink>
                </li>
                <!-- Shop -->
                <li class="menu-item has-children mega-menu">
                  <a href="">shop</a>
                  <ul class="sub-menu four-column">
                    <li class="cus-col-25">
                      <h3 class="menu-title"><a href="#">Shop Grid </a></h3>
                      <ul class="mega-single-block">
                        <li><a href="shop-grid.html">Fullwidth</a></li>
                        <li><a href="shop-grid--box-layout.html">Fullwidth (box layout)</a></li>
                        <li><a href="shop-grid-left-sidebar.html">left Sidebar</a></li>
                        <li><a href="shop-grid-left-sidebar--box-layout.html">left Sidebar(box
                          layout)</a></li>
                        <li><a href="shop-grid-right-sidebar.html">Right Sidebar</a></li>
                        <li><a href="shop-grid-right-sidebar--box-layout.html">Right Sidebar(box
                          layout)</a></li>
                      </ul>
                    </li>
                    <li class="cus-col-25">
                      <h3 class="menu-title"> <a href="#">Shop List</a></h3>
                      <ul class="mega-single-block">
                        <li><a href="shop-list.html">Fullwidth</a></li>
                        <li><a href="shop-list--box-layout.html">Fullwidth (box layout)</a></li>
                        <li><a href="shop-list-left-sidebar.html">left Sidebar</a></li>
                        <li><a href="shop-list-left-sidebar--box-layout.html">left Sidebar(box
                          layout)</a></li>
                        <li><a href="shop-list-right-sidebar.html">Right Sidebar</a></li>
                        <li><a href="shop-list-right-sidebar--box-layout.html">Right Sidebar(box
                          layout)</a></li>
                      </ul>
                    </li>
                    <li class="cus-col-25">
                      <h3 class="menu-title"> <a href="#">Product Details 1</a></h3>
                      <ul class="mega-single-block">
                        <li><a href="product-details.html">Product Details Page</a></li>
                        <li><a href="product-details-affiliate.html">Product Details
                          Affiliate</a></li>
                        <li><a href="product-details-group.html">Product Details Group</a></li>
                        <li><a href="product-details-variable.html">Product Details
                          Variables</a></li>
                      </ul>
                    </li>
                    <li class="cus-col-25">
                      <h3 class="menu-title"><a href="#">Product Details 2</a></h3>
                      <ul class="mega-single-block">
                        <li><a href="product-details-left-thumbnail.html">left Thumbnail</a>
                        </li>
                        <li><a href="product-details-right-thumbnail.html">Right Thumbnail</a>
                        </li>
                        <li><a href="product-details-left-gallery.html">Left Gallery</a></li>
                        <li><a href="product-details-right-gallery.html">Right Gallery</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <!-- Pages -->
                <li class="menu-item has-children">
                  <a href="">Pages</a>
                  <ul class="sub-menu">
                    <li> <a href="cart.html">Cart</a></li>
                    <li> <a href="checkout.html">Checkout</a></li>
                    <li> <a href="compare.html">Compare</a></li>
                    <li> <a href="wishlist.html">Wishlist</a></li>
                    <li> <a href="login-register.html">Login Register</a></li>
                    <li> <a href="my-account.html">My Account</a></li>
                  </ul>
                </li>
                <!-- Blog -->
                <li class="menu-item has-children mega-menu">
                  <NuxtLink to="/blog">Blog</NuxtLink>
                  <ul class="sub-menu three-column">
                    <li class="cus-col-33">
                      <h3 class="menu-title"><a href="#">Blog Grid</a></h3>
                      <ul class="mega-single-block">
                        <li><a href="blog.html">Full Widh (Default)</a></li>
                        <li><a href="blog-left-sidebar.html">left Sidebar</a></li>
                        <li><a href="blog-right-sidebar.html">Right Sidebar</a></li>
                      </ul>
                    </li>
                    <li class="cus-col-33">
                      <h3 class="menu-title"><a href="#">Blog List </a></h3>
                      <ul class="mega-single-block">
                        <li><a href="blog-list.html">Full Widh (Default)</a></li>
                        <li><a href="blog-list-left-sidebar.html">left Sidebar</a></li>
                        <li><a href="blog-list-right-sidebar.html">Right Sidebar</a></li>
                      </ul>
                    </li>
                    <li class="cus-col-33">
                      <h3 class="menu-title"><a href="#">Blog Details</a></h3>
                      <ul class="mega-single-block">
                        <li><a href="blog-details.html">Image Format (Default)</a></li>
                        <li><a href="blog-details-gallery.html">Gallery Format</a></li>
                        <li><a href="blog-details-audio.html">Audio Format</a></li>
                        <li><a href="blog-details-video.html">Video Format</a></li>
                        <li><a href="blog-details-left-sidebar.html">left Sidebar</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li class="menu-item">
                  <a href="contact.html">Contact</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="col-lg-3 col-xl-3 offset-lg-1 offset-xl-0">
            <div class="site-brand">
              <a href="index.html">
                <img src="image/main-logo-white.png" alt="">
              </a>
            </div>
          </div>
          <div class="col-lg-3 col-xl-4">
            <div class="header-top-widget">
              <ul class="header-links">
                <li class="sin-link">
                  <a href="#" class="search-trigger link-icon"><i
                      class="ion-ios-search-strong"></i></a>
                </li>
                <li class="sin-link">
                  <a href="#" class="cart-link link-icon"><i class="ion-bag"></i></a>
                  <div class="sin-dropdown cart-dropdown">
                    <div class="inner-single-block">
                      <div class="cart-product">
                        <div class="icon">
                          <img src="image/products/home-1/cart-product-1.jpg" alt="">
                          <div class="product-badge-3">1x</div>
                        </div>
                        <div class="description">
                          <h4>Yuqidong Sudaderas</h4>
                          <span class="price">€500.00</span>
                          <ul class="attr-content">
                            <li><span>size :</span> S</li>
                            <li><span>color :</span> Beige</li>
                          </ul>
                        </div>
                        <a href="#" class="cart-item-cross">
                          <i class="fas fa-times"></i>
                        </a>
                      </div>
                    </div>
                    <div class="inner-single-block">
                      <ul class="cart-details">
                        <li><span class="label">Subtotal</span> <span
                            class="value">€500.00</span></li>
                        <li><span class="label">Shipping</span> <span class="value">€7.00</span>
                        </li>
                        <li><span class="label">Taxes</span> <span class="value">€0.00</span>
                        </li>
                        <li><span class="label">Total</span> <span class="value">€507.00</span>
                        </li>
                      </ul>
                    </div>
                    <div class="inner-single-block">
                      <NuxtLink
                          class="btn w-100"
                          to="/checkout">
                        Checkout
                      </NuxtLink>
                    </div>
                  </div>
                </li>
                <li class="sin-link">
                  <a href="#" class="link-icon hamburgur-icon"><i
                      class="ion-navicon"></i></a>
                  <div class="sin-dropdown option-dropdown">
                    <div class="inner-single-block">
                      <h4 class="option-title">English <i class="fas fa-angle-down"></i></h4>
                      <ul class="option-list">
                        <li>
                          <a href="#" @click="changeLanguage('en')">
                            English
                          </a>
                        </li>
                        <li>
                          <a href="#" @click="changeLanguage('es')">
                            Spanish
                          </a>
                        </li>
                      </ul>
                    </div>
                    <div class="inner-single-block">
                      <h4 class="option-title">EUR <i class="fas fa-angle-down"></i></h4>
                      <ul class="option-list">
                        <li><a href="">€ Euro</a></li>
                        <li><a href="">$ US Dollar</a></li>
                      </ul>
                    </div>
                    <div class="inner-single-block">
                      <h4 class="option-title">my account</h4>
                      <ul class="option-list">
                        <li><a href="my-account.html">My account</a></li>
                        <li><a href="checkout.html">Checkout</a></li>
                        <li><a href="login-register.html">Sign in</a></li>
                      </ul>
                    </div>
                  </div>
                </li>
              </ul>

              <div class="search-wrapper">
                <div class="search-wrapper-inner">
                  <div class="container">
                    <button class="search-dismiss">
                      <i class="fas fa-times"></i>
                    </button>
                    <form action="#">
                      <div class="search-box">
                        <input type="text" placeholder="Search Our catalog">
                        <button class="search-button"><i class="fas fa-search"></i></button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <header class="mobile-header d-lg-none absolute-header">
      <div class="container">
        <div class="row align-items-end">
          <div class="col-md-4 col-7">

            <a href="index.html" class="site-brand">
              <img src="image/main-logo-white.png" alt="">
            </a>


          </div>
          <div class="col-md-8 col-5 text-right">
            <div class="mobile-header-btns header-top-widget ">
              <ul class="header-links">
                <li class="sin-link">
                  <a href="cart.html" class="cart-link link-icon"><i class="ion-bag"></i></a>
                </li>
                <li class="sin-link">
                  <a
                      href="#"
                      class="link-icon hamburgur-icon off-canvas-btn"
                      @click="handleAside">
                    <i class="ion-navicon"></i>
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </header>


    <!--Off Canvas Navigation Start-->
    <aside
        class="off-canvas-wrapper"
        :class="{'open': isOpenAside}"
    >
      <div
          class="btn-close-off-canvas"
          @click="handleAside"
      >
        <i class="ion-android-close"></i>
      </div>
      <div class="off-canvas-inner">
        <!-- search box start -->
        <div class="search-box offcanvas">
          <form>
            <input type="text" placeholder="Search Here">
            <button class="search-btn"><i class="ion-ios-search-strong"></i></button>
          </form>
        </div>
        <!-- search box end -->
        <!-- mobile menu start -->
        <div class="mobile-navigation">
          <!-- mobile menu navigation start -->
          <nav class="off-canvas-nav">
            <ul class="mobile-menu">
              <li class="menu-item-has-children">
                <NuxtLink to="/">{{ $t('header.home') }}</NuxtLink>
              </li>
              <li class="menu-item-has-children">
                <a href="#">Blog</a>
                <ul class="sub-menu">
                  <li class="menu-item-has-children">
                    <a href="#">Blog Grid</a>
                    <ul class="sub-menu">
                      <li><a href="blog.html">Full Widh (Default)</a></li>
                      <li><a href="blog-left-sidebar.html">left Sidebar</a></li>
                      <li><a href="blog-right-sidebar.html">Right Sidebar</a></li>
                    </ul>
                  </li>
                  <li class="menu-item-has-children">
                    <a href="#">Blog List</a>
                    <ul class="sub-menu">
                      <li><a href="blog-list.html">Full Widh (Default)</a></li>
                      <li><a href="blog-list-left-sidebar.html">left Sidebar</a></li>
                      <li><a href="blog-list-right-sidebar.html">Right Sidebar</a></li>
                    </ul>
                  </li>
                  <li class="menu-item-has-children">
                    <a href="#">Blog Details</a>
                    <ul class="sub-menu">
                      <li><a href="blog-details.html">Image Format (Default)</a></li>
                      <li><a href="blog-details-gallery.html">Gallery Format</a></li>
                      <li><a href="blog-details-audio.html">Audio Format</a></li>
                      <li><a href="blog-details-video.html">Video Format</a></li>
                      <li><a href="blog-details-left-sidebar.html">left Sidebar</a></li>
                    </ul>
                  </li>
                </ul>
              </li>

              <li class="menu-item-has-children">
                <a href="#">Shop</a>
                <ul class="sub-menu">
                  <li class="menu-item-has-children">
                    <a href="#">Shop Grid</a>
                    <ul class="sub-menu">
                      <li><a href="shop-grid.html">Fullwidth</a></li>
                      <li><a href="shop-grid--box-layout.html">Fullwidth (box layout)</a></li>
                      <li><a href="shop-grid-left-sidebar.html">left Sidebar</a></li>
                      <li><a href="shop-grid-left-sidebar--box-layout.html">left Sidebar(box
                        layout)</a></li>
                      <li><a href="shop-grid-right-sidebar--box-layout.html">Right Sidebar</a>
                      </li>
                      <li><a href="shop-grid-right-sidebar.html">Right Sidebar(box layout)</a>
                      </li>
                    </ul>
                  </li>
                  <li class="menu-item-has-children">
                    <a href="#">Shop List</a>
                    <ul class="sub-menu">
                      <li><a href="shop-list.html">Fullwidth</a></li>
                      <li><a href="shop-list--box-layout.html">Fullwidth (box layout)</a></li>
                      <li><a href="shop-list-left-sidebar.html">left Sidebar</a></li>
                      <li><a href="shop-list-left-sidebar--box-layout.html">left Sidebar(box
                        layout)</a></li>
                      <li><a href="shop-list-right-sidebar.html">Right Sidebar</a></li>
                      <li><a href="shop-list-right-sidebar--box-layout.html">Right Sidebar(box
                        layout)</a></li>
                    </ul>
                  </li>
                  <li class="menu-item-has-children">
                    <a href="#">Product Details 1</a>
                    <ul class="sub-menu">
                      <li><a href="product-details.html">Product Details Page</a></li>
                      <li><a href="product-details-affiliate.html">Product Details Affiliate</a>
                      </li>
                      <li><a href="product-details-group.html">Product Details Group</a></li>
                      <li><a href="product-details-variable.html">Product Details Variables</a>
                      </li>
                    </ul>
                  </li>
                  <li class="menu-item-has-children">
                    <a href="#">Product Details 2</a>
                    <ul class="sub-menu">
                      <li><a href="product-details-left-thumbnail.html">left Thumbnail</a></li>
                      <li><a href="product-details-right-thumbnail.html">Right Thumbnail</a></li>
                      <li><a href="product-details-left-gallery.html">Left Gallery</a></li>
                      <li><a href="product-details-right-gallery.html">Right Gallery</a></li>
                    </ul>
                  </li>
                </ul>
              </li>
              <li class="menu-item-has-children">
                <a href="#">Pages</a>
                <ul class="sub-menu">
                  <li> <a href="cart.html">Cart</a></li>
                  <li> <a href="checkout.html">Checkout</a></li>
                  <li> <a href="compare.html">Compare</a></li>
                  <li> <a href="wishlist.html">Wishlist</a></li>
                  <li> <a href="login-register.html">Login Register</a></li>
                  <li> <a href="my-account.html">My Account</a></li>
                </ul>
              </li>
              <li><a href="contact.html">Contact</a></li>

            </ul>
          </nav>
          <!-- mobile menu navigation end -->
        </div>
        <!-- mobile menu end -->
        <nav class="off-canvas-nav">
          <ul class="mobile-menu currency-menu">
            <li class="menu-item-has-children">
              <a href="#">Currency - USD $ <i class="fas fa-angle-down"></i></a>
              <ul class="sub-menu">
                <li> <a href="cart.html">USD $</a></li>
                <li> <a href="checkout.html">EUR €</a></li>
              </ul>
            </li>
            <li class="menu-item-has-children">
              <a href="#">Lang - Eng<i class="fas fa-angle-down"></i></a>
              <ul class="sub-menu">
                <li>Eng</li>
                <li>Ban</li>
              </ul>
            </li>
          </ul>
        </nav>
        <div class="off-canvas-bottom">
          <div class="contact-list mb--10">
            <a href="" class="sin-contact"><i class="fas fa-mobile-alt"></i>(12345) 78790220</a>
            <a href="" class="sin-contact"><i class="fas fa-envelope"></i>examle@handart.com</a>
          </div>
          <div class="header-social social-normal">
            <a href="#" class="single-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="single-icon"><i class="fab fa-twitter"></i></a>
            <a href="#" class="single-icon"><i class="fas fa-rss"></i></a>
            <a href="#" class="single-icon"><i class="fab fa-youtube"></i></a>
            <a href="#" class="single-icon"><i class="fab fa-google-plus-g"></i></a>
            <a href="#" class="single-icon"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
      </div>
    </aside>
  </div>
</template>

<script setup>
import { ref, onMounted, onUnmounted } from 'vue';
import { useLanguagesStore } from '@/store/languages';
import { createI18n } from 'vue-i18n'

const isFixed = ref(false);
const isOpenAside = ref(false);
const languageStore = useLanguagesStore();

const handleScroll = () => {
  isFixed.value = window.scrollY > 0;
}

const handleAside = () => {
  isOpenAside.value = !isOpenAside.value
}

const changeLanguage = (newLang) => {
  languageStore.setLang(newLang)
  createI18n.locale = newLang
}

onMounted(() => {
  window.addEventListener('scroll', handleScroll);
  createI18n.locale = languageStore.lang
})

onUnmounted(() => {
  window.removeEventListener('scroll', handleScroll);
})
</script>

<style scoped>

</style>
